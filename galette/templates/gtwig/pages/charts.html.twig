{% extends 'page.html.twig' %}

{% block content %}
        <div class="ui grid">
                <div class="sixteen wide mobile eight wide computer five wide widescreen column">
                        <div id="{{constant('Galette\\IO\\Charts::MEMBERS_STATUS_PIE')}}"></div>
                </div>
                <div class="sixteen wide mobile eight wide computer five wide widescreen column">
                        <div id="{{constant('Galette\\IO\\Charts::MEMBERS_STATEDUE_PIE')}}"></div>
                </div>
                <div class="sixteen wide mobile eight wide computer five wide widescreen column">
                        <div id="{{constant('Galette\\IO\\Charts::CONTRIBS_TYPES_PIE')}}"></div>
                </div>
                <div class="sixteen wide mobile eight wide computer five wide widescreen column">
                        <div id="{{constant('Galette\\IO\\Charts::COMPANIES_OR_NOT')}}"></div>
                </div>
                <div class="sixteen wide mobile eleven wide widescreen column">
                        <div id="{{constant('Galette\\IO\\Charts::CONTRIBS_ALLTIME')}}"></div>
                </div>
        </div>
{% endblock %}

{% block javascripts %}
        <script type="text/javascript">
            $(function(){
                var _members_status_pie = jQuery.jqplot ('{{constant('Galette\\IO\\Charts::MEMBERS_STATUS_PIE')}}', [{{ charts.MembersStatusPie|raw }}],
                    {
                        title: '{{ _T("Members by status")|e('js') }}',
                        seriesDefaults: {
                            renderer: jQuery.jqplot.PieRenderer,
                            rendererOptions: {
                                showDataLabels: true
                            }
                        },
                        legend: { show:true }
                    }
                );

                var _members_statedue_pie = jQuery.jqplot ('{{constant('Galette\\IO\\Charts::MEMBERS_STATEDUE_PIE')}}', [{{ charts.MembersStateDuePie|raw }}],
                    {
                        title: '{{ _T("Members by state of dues")|e('js') }}',
                        seriesDefaults: {
                            renderer: jQuery.jqplot.PieRenderer,
                            rendererOptions: {
                                showDataLabels: true
                            }
                        },
                        legend: { show:true }
                    }
                );

                var _contribs_types_pie = jQuery.jqplot ('{{constant('Galette\\IO\\Charts::CONTRIBS_TYPES_PIE')}}', [{{ charts.ContribsTypesPie|raw }}],
                    {
                        title: '{{ _T("Contributions types repartition")|e('js') }}',
                        seriesDefaults: {
                            renderer: jQuery.jqplot.PieRenderer,
                            rendererOptions: {
                                showDataLabels: true
                            }
                        },
                        legend: { show:true }
                    }
                );

                var _companies_individuals = jQuery.jqplot ('{{constant('Galette\\IO\\Charts::COMPANIES_OR_NOT')}}', [{{ charts.CompaniesOrNot|raw }}],
                    {
                        title: '{{ _T("Individuals and Companies")|e('js') }}',
                        seriesDefaults: {
                            renderer: jQuery.jqplot.PieRenderer,
                            rendererOptions: {
                                showDataLabels: true
                            }
                        },
                        legend: { show:true }
                    }
                );

                var _contribs_alltime = jQuery.jqplot ('{{constant('Galette\\IO\\Charts::CONTRIBS_ALLTIME')}}', [{{ charts.ContribsAllTime|raw }}],
                    {
                        title: '{{ _T("Contributions over time")|e('js') }}',
                        seriesDefaults: {
                            renderer:$.jqplot.BarRenderer,
                            renderOptions:{
                                barDirection: 'vertical',
                                highlightMouseDown: true
                            },
                            pointLabels: {
                                show: true,
                                formatString: "%#.2f"
                            },
                        },
                        axes:{
                            xaxis:{
                                renderer: $.jqplot.CategoryAxisRenderer
                            }
                        }
                    }
                );
            });
        </script>

{% endblock %}
